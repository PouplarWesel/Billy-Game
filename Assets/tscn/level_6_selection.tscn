[gd_scene load_steps=21 format=3 uid="uid://cug7tfrutar5p"]

[ext_resource type="MeshLibrary" uid="uid://bnso50hsfn6f4" path="res://Assets/Mesh Library/even_new_tiles.tres" id="1_5cjjh"]
[ext_resource type="PackedScene" uid="uid://dxej15eagyt41" path="res://Assets/tscn/moving_block.tscn" id="3_js61x"]
[ext_resource type="PackedScene" uid="uid://cdlqyv2bvdhec" path="res://Assets/tscn/cake.tscn" id="4_r25m2"]
[ext_resource type="PackedScene" uid="uid://djqeya0nukajm" path="res://Assets/tscn/block_falling.tscn" id="5_qugam"]
[ext_resource type="PackedScene" uid="uid://6t2ywm1sqt4q" path="res://Assets/tscn/ladder.tscn" id="6_b283a"]
[ext_resource type="PackedScene" uid="uid://ce20cu28o2rp3" path="res://Assets/tscn/rock.tscn" id="7_esiab"]
[ext_resource type="PackedScene" uid="uid://c8hq4emp6js6j" path="res://Assets/tscn/flowers.tscn" id="8_387qh"]
[ext_resource type="PackedScene" uid="uid://bqvqun3wf0cd6" path="res://Assets/tscn/flowers_new.tscn" id="9_chbw3"]
[ext_resource type="PackedScene" uid="uid://cydkps7na0yxs" path="res://Assets/tscn/tall_flowers_new.tscn" id="10_3vwu5"]
[ext_resource type="PackedScene" uid="uid://b106yxijfefds" path="res://Assets/tscn/tree_new.tscn" id="11_hkbpw"]
[ext_resource type="PackedScene" uid="uid://ci25asvgxh4o4" path="res://Assets/tscn/coin.tscn" id="12_vrvou"]
[ext_resource type="PackedScene" uid="uid://4k7h3303p2gb" path="res://Assets/tscn/button_held.tscn" id="13_qlfkp"]
[ext_resource type="PackedScene" uid="uid://cstr5djd3s3p6" path="res://Assets/tscn/button.tscn" id="14_vode3"]

[sub_resource type="GDScript" id="GDScript_t0n4e"]
script/source = "extends Node3D

func _ready():
	$\"..\".isOn = true
	$\"..\".flipped = true
	$\"..\".distance = 4
"

[sub_resource type="GDScript" id="GDScript_rphff"]
script/source = "extends Node3D

var isPressed = false

func _physics_process(delta):
	if %Button.isPressed && !isPressed:
		propagate_call(\"flipOn\")
		isPressed = true
"

[sub_resource type="GDScript" id="GDScript_6xcq5"]
script/source = "extends Node3D

func _ready():
	$\"..\".flipped = false
	$\"..\".distance = 3
	
"

[sub_resource type="GDScript" id="GDScript_686mq"]
script/source = "extends Node3D

var isPressed = false
var isHit = false

func _physics_process(delta):
	if %ButtonHeld.isPressed && !isPressed:
		propagate_call(\"flipOn\")
		isPressed = true
	elif !%ButtonHeld.isPressed && isPressed:
		propagate_call(\"flipOn\")
		isPressed = false
"

[sub_resource type="GDScript" id="GDScript_18ar5"]
script/source = "extends Node3D

func _ready():
	$\"..\".flipped = true
	$\"..\".distance = 5
"

[sub_resource type="GDScript" id="GDScript_hlysb"]
script/source = "extends Area3D


func _on_body_entered(body):
	if (body.name.contains(\"Toad\")):
		body.position = body.posStart
	elif (body.name.contains(\"Crate\")):
		body.position = body.posStart
"

[sub_resource type="BoxShape3D" id="BoxShape3D_x63cm"]
size = Vector3(28.48, 1, 23.715)

[node name="Level6Selection" type="Node3D"]

[node name="Map" type="Node3D" parent="."]

[node name="GridMap" type="GridMap" parent="Map"]
mesh_library = ExtResource("1_5cjjh")
cell_size = Vector3(1, 0.5, 1)
data = {
"cells": PackedInt32Array(65535, 0, 11, 65535, 65535, 11, 65535, 1, 11, 0, 65535, 11, 0, 0, 11, 0, 1, 11, 1, 65535, 11, 1, 0, 11, 1, 1, 11, 196607, 65535, 11, 196607, 0, 11, 196607, 1, 11, 131072, 65535, 11, 131072, 0, 11, 131072, 1, 11, 131073, 65535, 11, 131073, 0, 11, 131073, 1, 11, 327679, 65535, 3, 327679, 0, 3, 327679, 1, 3, 262144, 65535, 3, 262144, 0, 3, 262144, 1, 3, 262145, 65535, 3, 262145, 0, 3, 262145, 1, 3, 327679, 65528, 3, 327679, 65529, 3, 327679, 65530, 3, 262144, 65528, 3, 262144, 65529, 3, 262144, 65530, 3, 262145, 65528, 3, 262145, 65529, 3, 262145, 65530, 3, 327670, 65528, 3, 327670, 65529, 3, 327670, 65530, 3, 327671, 65528, 3, 327671, 65529, 3, 327671, 65530, 3, 327672, 65528, 3, 327672, 65529, 3, 327672, 65530, 3, 327670, 65535, 3, 327670, 0, 3, 327670, 1, 3, 327671, 65535, 3, 327671, 0, 3, 327671, 1, 3, 327672, 65535, 3, 327672, 0, 3, 327672, 1, 3, 65535, 65528, 11, 65535, 65529, 11, 65535, 65530, 11, 0, 65528, 11, 0, 65529, 11, 0, 65530, 11, 1, 65528, 11, 1, 65529, 11, 1, 65530, 11, 196607, 65528, 11, 196607, 65529, 11, 196607, 65530, 11, 131072, 65528, 11, 131072, 65529, 11, 131072, 65530, 11, 131073, 65528, 11, 131073, 65529, 11, 131073, 65530, 11, 65526, 65528, 11, 65526, 65529, 11, 65526, 65530, 11, 65527, 65528, 11, 65527, 65529, 11, 65527, 65530, 11, 196598, 65528, 11, 196598, 65529, 11, 196598, 65530, 11, 196599, 65528, 11, 196599, 65529, 11, 196599, 65530, 11, 65528, 65530, 11, 65528, 65529, 11, 65528, 65528, 11, 196600, 65528, 11, 196600, 65529, 11, 196600, 65530, 11, 65526, 65535, 11, 65526, 0, 11, 65526, 1, 11, 65527, 65535, 11, 65527, 0, 11, 65527, 1, 11, 65528, 65535, 11, 65528, 0, 11, 65528, 1, 11, 196598, 65535, 11, 196598, 0, 11, 196598, 1, 11, 196599, 65535, 11, 196599, 0, 11, 196599, 1, 11, 196600, 65535, 11, 196600, 0, 11, 196600, 1, 11, 262145, 65532, 3, 196597, 65535, 1441849, 196597, 0, 1441849, 196597, 1, 1441849)
}
metadata/_editor_floor_ = Vector3(0, 2, 0)

[node name="MovingBlock" type="Node3D" parent="Map"]

[node name="MovingBlock2" type="Node3D" parent="Map/MovingBlock"]

[node name="MovingBlock2" parent="Map/MovingBlock/MovingBlock2" instance=ExtResource("3_js61x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 2.79825, -6.5)

[node name="Node3D" type="Node3D" parent="Map/MovingBlock/MovingBlock2/MovingBlock2"]
script = SubResource("GDScript_t0n4e")

[node name="MovingBlock3" parent="Map/MovingBlock/MovingBlock2" instance=ExtResource("3_js61x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5, 2.79825, -6.5)

[node name="Node3D" type="Node3D" parent="Map/MovingBlock/MovingBlock2/MovingBlock3"]
script = SubResource("GDScript_t0n4e")

[node name="MovingBlock" type="Node3D" parent="Map/MovingBlock"]
script = SubResource("GDScript_rphff")

[node name="MovingBlock1" parent="Map/MovingBlock/MovingBlock" instance=ExtResource("3_js61x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 2.65472, -1.5)

[node name="Node3D2" type="Node3D" parent="Map/MovingBlock/MovingBlock/MovingBlock1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, -2.65472, 1.5)
script = SubResource("GDScript_6xcq5")

[node name="MovingBlock3" type="Node3D" parent="Map/MovingBlock"]
script = SubResource("GDScript_686mq")

[node name="MovingBlock3" parent="Map/MovingBlock/MovingBlock3" instance=ExtResource("3_js61x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 2.79825, 0.5)

[node name="Node3D" type="Node3D" parent="Map/MovingBlock/MovingBlock3/MovingBlock3"]
script = SubResource("GDScript_18ar5")

[node name="Cake" parent="Map" instance=ExtResource("4_r25m2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.5, 4, 0.5)

[node name="BlockFalling" type="Node3D" parent="Map"]

[node name="BlockFalling2" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 2.798, -3.5)

[node name="BlockFalling3" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -3.5)

[node name="BlockFalling4" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -2.5)

[node name="BlockFalling5" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -1.5)

[node name="BlockFalling6" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -0.5)

[node name="BlockFalling7" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, 0.5)

[node name="BlockFalling8" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 2.798, 2.5)

[node name="BlockFalling9" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, 0.5)

[node name="BlockFalling10" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -0.5)

[node name="BlockFalling11" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -1.5)

[node name="BlockFalling12" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -2.5)

[node name="BlockFalling13" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -3.5)

[node name="BlockFalling14" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 2.798, -3.5)

[node name="BlockFalling15" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, 1.5)

[node name="BlockFalling16" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, 2.5)

[node name="BlockFalling17" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, 1.5)

[node name="BlockFalling18" parent="Map/BlockFalling" instance=ExtResource("5_qugam")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, 2.5)

[node name="Void" type="Area3D" parent="Map"]
script = SubResource("GDScript_hlysb")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Void"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.3393, 0.466782, -3.82822)
shape = SubResource("BoxShape3D_x63cm")

[node name="Ladder" parent="Map" instance=ExtResource("6_b283a")]
transform = Transform3D(-8.74228e-08, 0, 2, 0, 2, 0, -2, 0, -8.74228e-08, -10.0312, 1, -0.5)

[node name="Rock" parent="Map" instance=ExtResource("7_esiab")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3.20156, 1.5)

[node name="Flower" type="Node3D" parent="Map"]

[node name="Flowers" parent="Map/Flower" instance=ExtResource("8_387qh")]
transform = Transform3D(0.840396, 0, 0.541972, 0, 1, 0, -0.541972, 0, 0.840396, 0.5, 3.26423, 1.5)
skeleton = NodePath("../../..")

[node name="Flowers2" parent="Map/Flower" instance=ExtResource("8_387qh")]
transform = Transform3D(0.895152, 0, -0.44576, 0, 1, 0, 0.44576, 0, 0.895152, -7.5, 3.26423, -0.5)
skeleton = NodePath("../../..")

[node name="flowers_new" parent="Map/Flower" instance=ExtResource("9_chbw3")]
transform = Transform3D(0.759975, 0, 0.649952, 0, 1, 0, -0.649952, 0, 0.759975, -0.5, 3.22262, -7.5)
skeleton = NodePath("../../..")

[node name="flowers_new2" parent="Map/Flower" instance=ExtResource("9_chbw3")]
transform = Transform3D(0.99999, 0, -0.00450292, 0, 1, 0, 0.00450292, 0, 0.99999, -7.5, 3.22262, -5.5)
skeleton = NodePath("../../..")

[node name="TallFlowersNew" parent="Map/Flower" instance=ExtResource("10_3vwu5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 3.24466, -0.5)
skeleton = NodePath("../../..")

[node name="Tree" type="Node3D" parent="Map"]

[node name="TreeNew" parent="Map/Tree" instance=ExtResource("11_hkbpw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 3.19129, 1.5)

[node name="TreeNew2" parent="Map/Tree" instance=ExtResource("11_hkbpw")]
transform = Transform3D(0.758214, 0, 0.652006, 0, 1, 0, -0.652006, 0, 0.758214, -9.5, 3.19129, -7.5)

[node name="Coin" type="Node3D" parent="Map"]

[node name="Coin" parent="Map/Coin" instance=ExtResource("12_vrvou")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 3.5, 2.5)

[node name="Coin2" parent="Map/Coin" instance=ExtResource("12_vrvou")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3.5, -6.5)

[node name="Coin3" parent="Map/Coin" instance=ExtResource("12_vrvou")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.5, 1.78302, 1.5)

[node name="Sun" type="Node3D" parent="Map"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Map/Sun"]
transform = Transform3D(0.183013, 0.707107, -0.683013, -0.183013, 0.707107, 0.683013, 0.965926, 0, 0.258819, -13, 6, 0)

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="Map/Sun"]
transform = Transform3D(0.885646, -0.183013, 0.426777, -0.183013, 0.707107, 0.683013, -0.426777, -0.683013, 0.592752, 3, 6, 0)

[node name="Button" type="Node3D" parent="Map"]

[node name="ButtonHeld" parent="Map/Button" instance=ExtResource("13_qlfkp")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3.2505, -6.5)

[node name="Button" parent="Map/Button" instance=ExtResource("14_vode3")]
unique_name_in_owner = true
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -0.5, 3.1745, -0.5)

[connection signal="body_entered" from="Map/Void" to="Map/Void" method="_on_body_entered"]
