[gd_scene load_steps=31 format=3 uid="uid://dw6suni2hdoim"]

[ext_resource type="MeshLibrary" uid="uid://bnso50hsfn6f4" path="res://Assets/Mesh Library/even_new_tiles.tres" id="1_ng52k"]
[ext_resource type="PackedScene" uid="uid://db2e4j6gysje0" path="res://Assets/tscn/toad.tscn" id="2_uajk4"]
[ext_resource type="Script" path="res://Assets/Code/PathFollow3D.gd" id="3_22e55"]
[ext_resource type="Environment" uid="uid://bd8n1voq3ksmr" path="res://default_env.tres" id="3_lq67b"]
[ext_resource type="PackedScene" uid="uid://dxej15eagyt41" path="res://Assets/tscn/moving_block.tscn" id="4_ly4sk"]
[ext_resource type="PackedScene" uid="uid://bagp4arcifcqg" path="res://Assets/tscn/crate.tscn" id="5_ixg7v"]
[ext_resource type="PackedScene" uid="uid://4k7h3303p2gb" path="res://Assets/tscn/button_held.tscn" id="5_j03no"]
[ext_resource type="PackedScene" uid="uid://cstr5djd3s3p6" path="res://Assets/tscn/button.tscn" id="7_nuhl6"]
[ext_resource type="PackedScene" uid="uid://cdlqyv2bvdhec" path="res://Assets/tscn/cake.tscn" id="8_wbre2"]
[ext_resource type="PackedScene" uid="uid://djqeya0nukajm" path="res://Assets/tscn/block_falling.tscn" id="9_8hei2"]
[ext_resource type="PackedScene" uid="uid://ce20cu28o2rp3" path="res://Assets/tscn/rock.tscn" id="9_sa1m7"]
[ext_resource type="PackedScene" uid="uid://ci25asvgxh4o4" path="res://Assets/tscn/coin.tscn" id="10_3d8hn"]
[ext_resource type="PackedScene" uid="uid://c8hq4emp6js6j" path="res://Assets/tscn/flowers.tscn" id="10_054f4"]
[ext_resource type="PackedScene" uid="uid://bqvqun3wf0cd6" path="res://Assets/tscn/flowers_new.tscn" id="11_1vxac"]
[ext_resource type="PackedScene" uid="uid://6t2ywm1sqt4q" path="res://Assets/tscn/ladder.tscn" id="11_ls2x5"]
[ext_resource type="PackedScene" uid="uid://cydkps7na0yxs" path="res://Assets/tscn/tall_flowers_new.tscn" id="12_0i4kj"]
[ext_resource type="PackedScene" uid="uid://b106yxijfefds" path="res://Assets/tscn/tree_new.tscn" id="13_xqxi0"]
[ext_resource type="PackedScene" uid="uid://cwh682ii1cl3o" path="res://Assets/tscn/coin_hud.tscn" id="17_ch1ol"]
[ext_resource type="PackedScene" uid="uid://ipsix4gw1vm8" path="res://Assets/tscn/transition.tscn" id="19_egu85"]

[sub_resource type="GDScript" id="GDScript_f6gae"]
script/source = "extends Node3D

func _ready():
	Global.currentLevel = 5
	$Transition.fadeOut()
"

[sub_resource type="GDScript" id="GDScript_ej30i"]
script/source = "extends Node3D

var ladderHeight = 2
var one = 33.5140342712402
var two = 49.0990219116211
var three = 2.26603817939758
var four = 15.7960376739502
"

[sub_resource type="Curve3D" id="Curve3D_bpyij"]
_data = {
"points": PackedVector3Array(0, 0, 0, 5, 0, -5, 8.43388, 0.0424795, 7.52052, 3, 0, 4, -3, 0, -3, 8.43388, 0.0424795, -6.47948, 4, 0, -4, -4, 0, 4, -6.56612, 0.0424795, -7.47948, -4, 0, -4, 4, 0, 4, -6.56612, 0.0424795, 7.52052, -3, 0, 3, 0, 0, 0, 8.43388, 0.0424795, 7.52052),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="GDScript" id="GDScript_0hrx2"]
script/source = "extends Camera3D

func _ready():
	%PathFollows3D.progress = 35
"

[sub_resource type="GDScript" id="GDScript_jo338"]
script/source = "extends Node3D

func _ready():
	$\"..\".isOn = true
	$\"..\".flipped = true
	$\"..\".distance = 4
"

[sub_resource type="GDScript" id="GDScript_v340s"]
script/source = "extends Node3D

var isPressed = false

func _physics_process(delta):
	if %Button.isPressed && !isPressed:
		propagate_call(\"flipOn\")
		isPressed = true
"

[sub_resource type="GDScript" id="GDScript_kwkxn"]
script/source = "extends Node3D

func _ready():
	$\"..\".flipped = false
	$\"..\".distance = 3
	
"

[sub_resource type="GDScript" id="GDScript_kfnro"]
script/source = "extends Node3D

var isPressed = false
var isHit = false

func _physics_process(delta):
	if %ButtonHeld.isPressed && !isPressed:
		propagate_call(\"flipOn\")
		isPressed = true
	elif !%ButtonHeld.isPressed && isPressed:
		propagate_call(\"flipOn\")
		isPressed = false
"

[sub_resource type="GDScript" id="GDScript_ab4tk"]
script/source = "extends Node3D

func _ready():
	$\"..\".flipped = true
	$\"..\".distance = 5
"

[sub_resource type="GDScript" id="GDScript_wfang"]
script/source = "extends Area3D


func _on_body_entered(body):
	if (body.name.contains(\"Toad\")):
		body.position = body.posStart
	elif (body.name.contains(\"Crate\")):
		body.position = body.posStart
"

[sub_resource type="BoxShape3D" id="BoxShape3D_dy0hx"]
size = Vector3(28.48, 1, 23.715)

[node name="Level6" type="Node3D"]
script = SubResource("GDScript_f6gae")

[node name="Level6Toad" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 0)
script = SubResource("GDScript_ej30i")

[node name="Toad" parent="Level6Toad" instance=ExtResource("2_uajk4")]
unique_name_in_owner = true

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(0.85, 0, 0, 0, 0.85, 0, 0, 0, 0.85, -3.38376, 6.33225, -2.78126)
curve = SubResource("Curve3D_bpyij")

[node name="PathFollows3D" type="PathFollow3D" parent="Path3D"]
unique_name_in_owner = true
transform = Transform3D(0.83338, 0, -0.552672, 0, 0.999995, 0, 0.552671, 0, 0.833382, 10.0234, 0.0424795, 5.60114)
progress = 2.49607
script = ExtResource("3_22e55")

[node name="Camera3D" type="Camera3D" parent="Path3D/PathFollows3D"]
transform = Transform3D(0, -0.429056, 0.920127, 0, 0.920116, 0.429051, -1.01524, 1.49012e-08, 8.9407e-08, 0.0483227, 0, -0.0322838)
environment = ExtResource("3_lq67b")
script = SubResource("GDScript_0hrx2")

[node name="Map" type="Node3D" parent="."]

[node name="GridMap" type="GridMap" parent="Map"]
mesh_library = ExtResource("1_ng52k")
cell_size = Vector3(1, 0.5, 1)
data = {
"cells": PackedInt32Array(65535, 0, 11, 65535, 65535, 11, 65535, 1, 11, 0, 65535, 11, 0, 0, 11, 0, 1, 11, 1, 65535, 11, 1, 0, 11, 1, 1, 11, 196607, 65535, 11, 196607, 0, 11, 196607, 1, 11, 131072, 65535, 11, 131072, 0, 11, 131072, 1, 11, 131073, 65535, 11, 131073, 0, 11, 131073, 1, 11, 327679, 65535, 3, 327679, 0, 3, 327679, 1, 3, 262144, 65535, 3, 262144, 0, 3, 262144, 1, 3, 262145, 65535, 3, 262145, 0, 3, 262145, 1, 3, 327679, 65528, 3, 327679, 65529, 3, 327679, 65530, 3, 262144, 65528, 3, 262144, 65529, 3, 262144, 65530, 3, 262145, 65528, 3, 262145, 65529, 3, 262145, 65530, 3, 327670, 65528, 3, 327670, 65529, 3, 327670, 65530, 3, 327671, 65528, 3, 327671, 65529, 3, 327671, 65530, 3, 327672, 65528, 3, 327672, 65529, 3, 327672, 65530, 3, 327670, 65535, 3, 327670, 0, 3, 327670, 1, 3, 327671, 65535, 3, 327671, 0, 3, 327671, 1, 3, 327672, 65535, 3, 327672, 0, 3, 327672, 1, 3, 65535, 65528, 11, 65535, 65529, 11, 65535, 65530, 11, 0, 65528, 11, 0, 65529, 11, 0, 65530, 11, 1, 65528, 11, 1, 65529, 11, 1, 65530, 11, 196607, 65528, 11, 196607, 65529, 11, 196607, 65530, 11, 131072, 65528, 11, 131072, 65529, 11, 131072, 65530, 11, 131073, 65528, 11, 131073, 65529, 11, 131073, 65530, 11, 65526, 65528, 11, 65526, 65529, 11, 65526, 65530, 11, 65527, 65528, 11, 65527, 65529, 11, 65527, 65530, 11, 196598, 65528, 11, 196598, 65529, 11, 196598, 65530, 11, 196599, 65528, 11, 196599, 65529, 11, 196599, 65530, 11, 65528, 65530, 11, 65528, 65529, 11, 65528, 65528, 11, 196600, 65528, 11, 196600, 65529, 11, 196600, 65530, 11, 65526, 65535, 11, 65526, 0, 11, 65526, 1, 11, 65527, 65535, 11, 65527, 0, 11, 65527, 1, 11, 65528, 65535, 11, 65528, 0, 11, 65528, 1, 11, 196598, 65535, 11, 196598, 0, 11, 196598, 1, 11, 196599, 65535, 11, 196599, 0, 11, 196599, 1, 11, 196600, 65535, 11, 196600, 0, 11, 196600, 1, 11, 262145, 65532, 3, 196597, 65535, 1441849, 196597, 0, 1441849, 196597, 1, 1441849)
}
metadata/_editor_floor_ = Vector3(0, 2, 0)

[node name="Crate" parent="Map" instance=ExtResource("5_ixg7v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 3, -6.5)

[node name="MovingBlock" type="Node3D" parent="Map"]

[node name="MovingBlock2" type="Node3D" parent="Map/MovingBlock"]

[node name="MovingBlock2" parent="Map/MovingBlock/MovingBlock2" instance=ExtResource("4_ly4sk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 2.79825, -6.5)

[node name="Node3D" type="Node3D" parent="Map/MovingBlock/MovingBlock2/MovingBlock2"]
script = SubResource("GDScript_jo338")

[node name="MovingBlock3" parent="Map/MovingBlock/MovingBlock2" instance=ExtResource("4_ly4sk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.5, 2.79825, -6.5)

[node name="Node3D" type="Node3D" parent="Map/MovingBlock/MovingBlock2/MovingBlock3"]
script = SubResource("GDScript_jo338")

[node name="MovingBlock" type="Node3D" parent="Map/MovingBlock"]
script = SubResource("GDScript_v340s")

[node name="MovingBlock1" parent="Map/MovingBlock/MovingBlock" instance=ExtResource("4_ly4sk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 2.65472, -1.5)

[node name="Node3D2" type="Node3D" parent="Map/MovingBlock/MovingBlock/MovingBlock1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, -2.65472, 1.5)
script = SubResource("GDScript_kwkxn")

[node name="MovingBlock3" type="Node3D" parent="Map/MovingBlock"]
script = SubResource("GDScript_kfnro")

[node name="MovingBlock3" parent="Map/MovingBlock/MovingBlock3" instance=ExtResource("4_ly4sk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 2.79825, 0.5)

[node name="Node3D" type="Node3D" parent="Map/MovingBlock/MovingBlock3/MovingBlock3"]
script = SubResource("GDScript_ab4tk")

[node name="Cake" parent="Map" instance=ExtResource("8_wbre2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.5, 4, 0.5)

[node name="BlockFalling" type="Node3D" parent="Map"]

[node name="BlockFalling2" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.5, 2.798, -3.5)

[node name="BlockFalling3" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -3.5)

[node name="BlockFalling4" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -2.5)

[node name="BlockFalling5" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -1.5)

[node name="BlockFalling6" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, -0.5)

[node name="BlockFalling7" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, 0.5)

[node name="BlockFalling8" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 2.798, 2.5)

[node name="BlockFalling9" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, 0.5)

[node name="BlockFalling10" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -0.5)

[node name="BlockFalling11" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -1.5)

[node name="BlockFalling12" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -2.5)

[node name="BlockFalling13" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, -3.5)

[node name="BlockFalling14" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 2.798, -3.5)

[node name="BlockFalling15" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, 1.5)

[node name="BlockFalling16" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.5, 2.798, 2.5)

[node name="BlockFalling17" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, 1.5)

[node name="BlockFalling18" parent="Map/BlockFalling" instance=ExtResource("9_8hei2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.5, 2.798, 2.5)

[node name="Void" type="Area3D" parent="Map"]
script = SubResource("GDScript_wfang")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Void"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.3393, 0.466782, -3.82822)
shape = SubResource("BoxShape3D_dy0hx")

[node name="Ladder" parent="Map" instance=ExtResource("11_ls2x5")]
transform = Transform3D(-8.74228e-08, 0, 2, 0, 2, 0, -2, 0, -8.74228e-08, -10.0312, 1, -0.5)

[node name="Rock" parent="Map" instance=ExtResource("9_sa1m7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3.20156, 1.5)

[node name="Flower" type="Node3D" parent="Map"]

[node name="Flowers" parent="Map/Flower" instance=ExtResource("10_054f4")]
transform = Transform3D(0.840396, 0, 0.541972, 0, 1, 0, -0.541972, 0, 0.840396, 0.5, 3.26423, 1.5)
skeleton = NodePath("../../..")

[node name="Flowers2" parent="Map/Flower" instance=ExtResource("10_054f4")]
transform = Transform3D(0.895152, 0, -0.44576, 0, 1, 0, 0.44576, 0, 0.895152, -7.5, 3.26423, -0.5)
skeleton = NodePath("../../..")

[node name="flowers_new" parent="Map/Flower" instance=ExtResource("11_1vxac")]
transform = Transform3D(0.759975, 0, 0.649952, 0, 1, 0, -0.649952, 0, 0.759975, -0.5, 3.22262, -7.5)
skeleton = NodePath("../../..")

[node name="flowers_new2" parent="Map/Flower" instance=ExtResource("11_1vxac")]
transform = Transform3D(0.99999, 0, -0.00450292, 0, 1, 0, 0.00450292, 0, 0.99999, -7.5, 3.22262, -5.5)
skeleton = NodePath("../../..")

[node name="TallFlowersNew" parent="Map/Flower" instance=ExtResource("12_0i4kj")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 3.24466, -0.5)
skeleton = NodePath("../../..")

[node name="Tree" type="Node3D" parent="Map"]

[node name="TreeNew" parent="Map/Tree" instance=ExtResource("13_xqxi0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 3.19129, 1.5)

[node name="TreeNew2" parent="Map/Tree" instance=ExtResource("13_xqxi0")]
transform = Transform3D(0.758214, 0, 0.652006, 0, 1, 0, -0.652006, 0, 0.758214, -9.5, 3.19129, -7.5)

[node name="Coin" type="Node3D" parent="Map"]

[node name="Coin" parent="Map/Coin" instance=ExtResource("10_3d8hn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.5, 3.5, 2.5)

[node name="Coin2" parent="Map/Coin" instance=ExtResource("10_3d8hn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3.5, -6.5)

[node name="Coin3" parent="Map/Coin" instance=ExtResource("10_3d8hn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.5, 1.78302, 1.5)

[node name="Sun" type="Node3D" parent="Map"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Map/Sun"]
transform = Transform3D(0.183013, 0.707107, -0.683013, -0.183013, 0.707107, 0.683013, 0.965926, 0, 0.258819, -13, 6, 0)

[node name="DirectionalLight3D2" type="DirectionalLight3D" parent="Map/Sun"]
transform = Transform3D(0.885646, -0.183013, 0.426777, -0.183013, 0.707107, 0.683013, -0.426777, -0.683013, 0.592752, 3, 6, 0)

[node name="Button" type="Node3D" parent="Map"]

[node name="ButtonHeld" parent="Map/Button" instance=ExtResource("5_j03no")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 3.2505, -6.5)

[node name="Button" parent="Map/Button" instance=ExtResource("7_nuhl6")]
unique_name_in_owner = true
transform = Transform3D(1.5, 0, 0, 0, 1.5, 0, 0, 0, 1.5, -0.5, 3.1745, -0.5)

[node name="CoinHUD" parent="." instance=ExtResource("17_ch1ol")]

[node name="Transition" parent="." instance=ExtResource("19_egu85")]
unique_name_in_owner = true

[connection signal="body_entered" from="Map/Void" to="Map/Void" method="_on_body_entered"]
